import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JOptionPane;

public class AirportSimController implements ActionListener {

	private AirportSimView view;
	private AirportSimModel model;

	public static void main(String[] args) {
		new AirportSimController();
	}

	public AirportSimController() {
		this.model = new AirportSimModel();
		this.view =  new AirportSimView();
		view.showGUI();
		view.addListener(this);
	}

	@Override
	public void actionPerformed(ActionEvent event) {
		
		if (event.getSource() == view.getArrivalsInput()) {
//			System.out.println("ArrivalsInput = " + view.getArrivalsInputValue());
			model.addtoArrivalsQueue(view.getArrivalsInput().getText());
			view.setArrivalsInput("");
			
			view.setArrivals(model.getArrivalsQueue());
			
//			for (String s : model.getArrivalsQueue()) {
//				System.out.println("ArrivalsQueue = " + s.toString());
//			}
			
		} 
		
		else if (event.getSource() == view.getTakeoffsInput()) {
			model.addtoTakeoffsQueue(view.getTakeoffsInput().getText());
			view.setTakeoffsInput("");
			
			view.setTakeoffs(model.getTakeoffsQueue());

		}

		//TODO: Add Action Events for Start / Exit
		if (event.getSource() == view.getStartButton()) {
			JOptionPane.showMessageDialog( null, "Started" );
			//TODO: Make a method in the model to begin all main functions of the program
		}
		
		else if (event.getSource() == view.getExitButton()) {
			JOptionPane.showMessageDialog( null, "Exiting" );
			//TODO: Create a method to reopen text files and save leftover queue elements for future use
		}
		//TODO: Add Error checking to ensure flight numbers are integers from 1-9999
		//TODO: Add timer functionality and logic (4 sec for arrival, 2 sec for takeoff)
		
	}
	//TODO: Add read in from file on start / write back to file on exit
}
